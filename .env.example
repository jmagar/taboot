# =============================================================================
# Taboot Environment Configuration (.env.example)
# Copy this file to .env and fill in your actual credentials.
# =============================================================================

# -------------------- FIRECRAWL --------------------
HOST="0.0.0.0"
FIRECRAWL_PORT="3002"          # Host port (maps to container 3002)
FIRECRAWL_INTERNAL_PORT="3002" # Internal container port
WORKER_PORT="3005"
FIRECRAWL_API_URL="http://taboot-crawler:3002"
FIRECRAWL_API_KEY="changeme"
NUM_WORKERS_PER_QUEUE="16"
WORKER_CONCURRENCY="8"
SCRAPE_CONCURRENCY="8"
RETRY_DELAY="1000"
MAX_RETRIES="1"
BULL_AUTH_KEY="@"
MAX_CPU="1.0"
MAX_RAM="1.0"

# -------------------- POSTGRES --------------------
POSTGRES_USER="taboot"
POSTGRES_PASSWORD="changeme"
POSTGRES_DB="taboot"
POSTGRES_PORT="5432"
NUQ_DATABASE_URL="postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@taboot-db:${POSTGRES_PORT}/${POSTGRES_DB}"

# -------------------- SEARCH & EXTERNAL AI --------------------
OPENAI_API_KEY="sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
MODEL_NAME="gpt-4-turbo"
SEARXNG_ENDPOINT="https://s.tootie.tv"
SEARXNG_ENGINES="google,bing,duckduckgo,startpage,yandex"
SEARXNG_CATEGORIES="general,images,videos,news,map,music,science"
HF_TOKEN="hf_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# -------------------- PLAYWRIGHT --------------------
PLAYWRIGHT_PORT="3000"
PLAYWRIGHT_MICROSERVICE_URL="http://taboot-playwright:3000/scrape"

# -------------------- REDIS --------------------
REDIS_PORT="6379"
REDIS_URL="redis://taboot-cache:6379"
REDIS_RATE_LIMIT_URL="redis://taboot-cache:6379"

# -------------------- QDRANT --------------------
QDRANT_HTTP_PORT="7000"  # Host port (maps to container 6333)
QDRANT_GRPC_PORT="7001"  # Host port (maps to container 6334)
QDRANT_URL="http://taboot-vectors:6333"
QDRANT_LOG_LEVEL="INFO"   # Optional: override Qdrant server log verbosity (INFO, DEBUG)
COLLECTION_NAME="documents"

# -------------------- NEO4J --------------------
NEO4J_USER="neo4j"
NEO4J_PASSWORD="changeme"
NEO4J_DB="neo4j"
NEO4J_HTTP_PORT="7474"
NEO4J_BOLT_PORT="7687"
NEO4J_URI="bolt://taboot-graph:7687"

# -------------------- TEI SERVICES --------------------
TEI_HTTP_PORT="8080"  # Host port (maps to container 80)
TEI_EMBEDDING_URL="http://taboot-embed:80"
TEI_EMBEDDING_MODEL="Qwen/Qwen3-Embedding-0.6B"

# -------------------- RERANKER (SentenceTransformers) --------------------
RERANKER_HTTP_PORT="8081"  # Host port (maps to container 8000)
RERANKER_URL="http://taboot-rerank:8000"
RERANKER_MODEL="Qwen/Qwen3-Reranker-0.6B"
RERANKER_BATCH_SIZE="16"
RERANKER_DEVICE="auto"

# -------------------- DATA SOURCE CREDENTIALS --------------------
# GitHub API Access
# Create a Personal Access Token at: https://github.com/settings/tokens
# Required scopes: repo, read:discussion
GITHUB_TOKEN="ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
# Reddit API Access
# Create an app at: https://www.reddit.com/prefs/apps
# Choose "script" app type
REDDIT_CLIENT_ID="xxxxxxxxxxxxxx"
REDDIT_CLIENT_SECRET="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
REDDIT_USER_AGENT="Script"
# Gmail API Access (OAuth 2.0)
# 1. Create a Google Cloud Project: https://console.cloud.google.com/
# 2. Enable Gmail API
# 3. Create OAuth 2.0 credentials (Desktop app type)
# 4. Download credentials.json
# 5. Run OAuth flow to obtain refresh token (see docs/configuration.md)
GOOGLE_CLIENT_ID="xxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxxxxxx"
GOOGLE_OAUTH_REFRESH_TOKEN="1//xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
ELASTICSEARCH_URL="http://localhost:9200"
ELASTICSEARCH_API_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
UNIFI_API_TOKEN=""
UNIFI_USERNAME="api"
UNIFI_PASSWORD="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TAILSCALE_API_KEY="tskey-api-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# -------------------- OLLAMA --------------------
OLLAMA_PORT="11434"
OLLAMA_FLASH_ATTENTION="true"
OLLAMA_KEEP_ALIVE="30m"
OLLAMA_USE_MMAP="true"
OLLAMA_MAX_QUEUE="20000"

# -------------------- LOGGING & OBSERVABILITY --------------------
LOG_LEVEL="INFO"
FASTTEXT_HOME=".cache/fasttext"

# -------------------- API SERVICE --------------------
TABOOT_HTTP_PORT="8000"  # Host port (maps to container 8000)
TABOOT_API_URL="http://localhost:8000"
